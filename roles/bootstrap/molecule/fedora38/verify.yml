---
- name: Verify
  hosts: ansiblinux_fedora_38
  become: true
  tasks:
    - name: (FEDORA) DNF configuration
      ansible.builtin.lineinfile:
        path: /etc/dnf/dnf.conf
        line: "{{ item }}"
        insertafter: EOF
        state: present
      loop:
        - "fastestmirror=True"              # Automatically chooses the fastest mirror
        - "deltarpm=True"                   # Enable DRPM for diff checking and lightweight downloads
        - "max_parallel_downloads=10"       # Set the maximum parallel downloads to 10

    - name: (FEDORA) Packages testing
      block:
        - name: (FEDORA - PKGS TEST) Gather package facts
          ansible.builtin.package_facts:

        - name: (FEDORA - PKGS TEST) Checking loop
          ansible.builtin.debug:
            msg: "{{ item }} package is installed"
          loop:
            - dnf-plugins-core
            - git
            - gcc
            - make
            - vim
            - python3-pip
            - htop
            - ethtool
            - lm_sensors
            - wget
            - curl
            - nmap
            - nmap-ncat
            - ca-certificates
            - acl
            - tar
            - zip
            - unzip
            - unar
            - bzip2
            - tar
            - p7zip
            - ntfs-3g
