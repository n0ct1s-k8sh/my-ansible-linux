---
- name: Verify
  hosts: ansiblinux_fedora_38
  become: true
  tasks:
    - name: Check if SystemD exists
      ansible.builtin.file:
        path: /usr/lib/systemd/systemd
        state: file

    - name: DNF configuration
      ansible.builtin.lineinfile:
        path: /etc/dnf/dnf.conf
        line: "{{ item }}"
        insertafter: EOF
        state: present
      loop:
        - "fastestmirror=True"              # Automatically chooses the fastest mirror
        - "deltarpm=True"                   # Enable DRPM for diff checking and lightweight downloads
        - "max_parallel_downloads=10"       # Set the maximum parallel downloads to 10
